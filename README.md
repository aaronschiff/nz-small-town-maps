This R code creates approximations of the urban areas of New Zealand's small towns.

The results can be seen at [schiff.nz/small-towns](http://schiff.nz/small-towns). 

The following data files (not included in this repository) is required in a `/data` directory:

[New Zealand 2017 digital boundaries generalised clipped](http://www3.stats.govt.nz/digitalboundaries/annual/ESRI_Shapefile_2017_Digital_Boundaries_Generalised_Clipped.zip)

[New Zealand primary parcels](https://data.linz.govt.nz/layer/50772-nz-primary-parcels/)

[New Zealand coastlines (1:500k)](https://data.linz.govt.nz/layer/50204-nz-coastlines-topo-1500k/)

[New Zealand lake polygons (1:500k)](https://data.linz.govt.nz/layer/50212-nz-lake-polygons-topo-1500k/)

The final maps at the link above were manually edited to clean them up; if you just run this code your results will look a bit different. 